<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Viral Rewind — The Most Viral YouTube Videos Through the Years</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg: #0a0a0f;
      --surface: #12121a;
      --surface-hover: #1a1a26;
      --border: #1e1e2e;
      --text: #e4e4ef;
      --text-dim: #8888a0;
      --accent: #ff3366;
      --accent-glow: rgba(255, 51, 102, 0.3);
      --music: #ff3366;
      --funny: #00ccff;
      --music-glow: rgba(255, 51, 102, 0.15);
      --funny-glow: rgba(0, 204, 255, 0.15);
      --radius: 12px;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* ============ HEADER ============ */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: rgba(10, 10, 15, 0.85);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
    }

    .header-inner {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 64px;
    }

    .logo {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.4rem;
      font-weight: 700;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, var(--music), var(--funny));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .category-toggle {
      display: flex;
      gap: 4px;
      background: var(--surface);
      border-radius: 10px;
      padding: 4px;
      border: 1px solid var(--border);
    }

    .category-btn {
      padding: 8px 20px;
      border: none;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.25s ease;
      background: transparent;
      color: var(--text-dim);
    }

    .category-btn.active-music {
      background: var(--music);
      color: white;
      box-shadow: 0 2px 12px var(--accent-glow);
    }

    .category-btn.active-funny {
      background: var(--funny);
      color: #0a0a0f;
      box-shadow: 0 2px 12px rgba(0, 204, 255, 0.3);
    }

    .category-btn:hover:not(.active-music):not(.active-funny) {
      color: var(--text);
      background: var(--surface-hover);
    }

    /* ============ YEAR TIMELINE ============ */
    .timeline-bar {
      position: fixed;
      top: 64px;
      left: 0;
      right: 0;
      z-index: 99;
      background: rgba(10, 10, 15, 0.9);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border-bottom: 1px solid var(--border);
    }

    .timeline-inner {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px;
      display: flex;
      align-items: center;
      height: 52px;
      gap: 0;
      overflow-x: auto;
      scrollbar-width: none;
    }

    .timeline-inner::-webkit-scrollbar { display: none; }

    .year-btn {
      flex-shrink: 0;
      padding: 8px 18px;
      border: none;
      background: transparent;
      color: var(--text-dim);
      font-family: 'Space Grotesk', sans-serif;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      border-radius: 8px;
      position: relative;
    }

    .year-btn:hover { color: var(--text); }

    .year-btn.active {
      color: white;
    }

    .year-btn.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 50%;
      transform: translateX(-50%);
      width: 24px;
      height: 3px;
      border-radius: 3px;
      transition: background 0.3s;
    }

    .year-btn.active.music-mode::after { background: var(--music); }
    .year-btn.active.funny-mode::after { background: var(--funny); }

    /* ============ HERO ============ */
    .hero {
      padding: 160px 24px 60px;
      text-align: center;
      position: relative;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 600px;
      height: 400px;
      background: radial-gradient(ellipse, var(--accent-glow) 0%, transparent 70%);
      pointer-events: none;
      opacity: 0.5;
    }

    .hero h1 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: clamp(2.5rem, 6vw, 4.5rem);
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 1.1;
      margin-bottom: 16px;
    }

    .hero h1 .gradient {
      background: linear-gradient(135deg, var(--music), #ff6699, var(--funny));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      color: var(--text-dim);
      font-size: 1.15rem;
      max-width: 540px;
      margin: 0 auto;
    }

    /* ============ MAIN CONTENT ============ */
    main {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px 100px;
    }

    .year-section {
      margin-bottom: 80px;
      scroll-margin-top: 140px;
    }

    .year-header {
      display: flex;
      align-items: baseline;
      gap: 16px;
      margin-bottom: 32px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }

    .year-header h2 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 3rem;
      font-weight: 700;
      letter-spacing: -0.03em;
      transition: color 0.3s;
    }

    .year-header h2.music-accent { color: var(--music); }
    .year-header h2.funny-accent { color: var(--funny); }

    .year-header .year-label {
      color: var(--text-dim);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
      gap: 24px;
    }

    @media (max-width: 480px) {
      .video-grid {
        grid-template-columns: 1fr;
      }
    }

    /* ============ VIDEO CARD ============ */
    .video-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      overflow: hidden;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .video-card:hover {
      border-color: #2a2a3e;
      transform: translateY(-2px);
    }

    .video-card.music-card:hover {
      box-shadow: 0 8px 32px var(--music-glow);
    }

    .video-card.funny-card:hover {
      box-shadow: 0 8px 32px var(--funny-glow);
    }

    .thumbnail-wrapper {
      position: relative;
      aspect-ratio: 16/9;
      overflow: hidden;
      background: #000;
    }

    .thumbnail-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: opacity 0.3s;
    }

    .thumbnail-wrapper iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .play-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.3);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .video-card:hover .play-overlay { opacity: 1; }

    .play-btn {
      width: 60px;
      height: 60px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
    }

    .play-btn svg {
      width: 24px;
      height: 24px;
      margin-left: 3px;
      fill: #0a0a0f;
    }

    .card-info {
      padding: 16px 20px;
    }

    .card-info h3 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 4px;
      letter-spacing: -0.01em;
      line-height: 1.3;
    }

    .card-info .artist {
      color: var(--text-dim);
      font-size: 0.88rem;
      font-weight: 500;
      margin-bottom: 8px;
    }

    .card-info .description {
      color: var(--text-dim);
      font-size: 0.82rem;
      line-height: 1.5;
    }

    .card-tag {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 20px;
      font-size: 0.72rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 10px;
    }

    .card-tag.music-tag {
      background: var(--music-glow);
      color: var(--music);
    }

    .card-tag.funny-tag {
      background: var(--funny-glow);
      color: var(--funny);
    }

    /* ============ LIGHTBOX ============ */
    .lightbox {
      position: fixed;
      inset: 0;
      z-index: 200;
      background: rgba(0, 0, 0, 0.92);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }

    .lightbox.active {
      opacity: 1;
      pointer-events: all;
    }

    .lightbox-content {
      width: 90vw;
      max-width: 960px;
      aspect-ratio: 16/9;
      position: relative;
    }

    .lightbox-content iframe {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: var(--radius);
    }

    .lightbox-close {
      position: absolute;
      top: -48px;
      right: 0;
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 8px;
      opacity: 0.7;
      transition: opacity 0.2s;
    }

    .lightbox-close:hover { opacity: 1; }

    .lightbox-info {
      position: absolute;
      bottom: -56px;
      left: 0;
      right: 0;
      text-align: center;
    }

    .lightbox-info h3 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.2rem;
      font-weight: 600;
      color: white;
    }

    .lightbox-info p {
      color: var(--text-dim);
      font-size: 0.9rem;
    }

    /* ============ FOOTER ============ */
    footer {
      text-align: center;
      padding: 40px 24px;
      border-top: 1px solid var(--border);
      color: var(--text-dim);
      font-size: 0.85rem;
    }

    /* ============ TRANSITIONS ============ */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ============ RESPONSIVE ============ */
    @media (max-width: 768px) {
      .header-inner { height: 56px; }
      .logo { font-size: 1.1rem; }
      .category-btn { padding: 6px 14px; font-size: 0.8rem; }
      .hero { padding: 140px 20px 40px; }
      .hero p { font-size: 1rem; }
      .year-header h2 { font-size: 2.2rem; }
      .video-grid { gap: 16px; }
      .card-info { padding: 12px 16px; }
      .timeline-inner { padding: 0 12px; }
      .year-btn { padding: 8px 12px; font-size: 0.85rem; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="header-inner">
      <div class="logo">VIRAL REWIND</div>
      <div class="category-toggle">
        <button class="category-btn active-music" data-category="music" onclick="setCategory('music')">Music</button>
        <button class="category-btn" data-category="funny" onclick="setCategory('funny')">Funny / Memes</button>
      </div>
    </div>
  </header>

  <!-- Year Timeline -->
  <nav class="timeline-bar">
    <div class="timeline-inner" id="timeline">
      <!-- Year buttons injected by JS -->
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <h1>The Internet's <span class="gradient">Greatest Hits</span></h1>
    <p>A decade of viral YouTube moments — from chart-topping music videos to the memes that defined each year.</p>
  </section>

  <!-- Main Content -->
  <main id="main-content">
    <!-- Year sections injected by JS -->
  </main>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" onclick="closeLightbox(event)">
    <div class="lightbox-content" onclick="event.stopPropagation()">
      <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
      <iframe id="lightbox-iframe" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      <div class="lightbox-info">
        <h3 id="lightbox-title"></h3>
        <p id="lightbox-artist"></p>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>Viral Rewind &mdash; Celebrating a decade of internet culture, 2016&ndash;2025</p>
  </footer>

  <script>
    // ============ VIDEO DATA ============
    const musicVideos = [
      // 2016
      { title: "Sorry", artist: "Justin Bieber", year: 2016, videoId: "fRh_vgS2dFE", description: "The dance-crew music video and catchy hook made it one of the most-streamed songs of 2016." },
      { title: "Closer", artist: "The Chainsmokers ft. Halsey", year: 2016, videoId: "PT2_F-1esPk", description: "Spent 12 weeks at #1, becoming the defining EDM-pop crossover anthem of 2016." },
      // 2017
      { title: "Despacito", artist: "Luis Fonsi ft. Daddy Yankee", year: 2017, videoId: "kJQP7kiw5Fk", description: "First YouTube video to reach 5 billion views, igniting a global Latin music wave." },
      { title: "Shape of You", artist: "Ed Sheeran", year: 2017, videoId: "JGwWNGJdvx8", description: "Broke Spotify streaming records and became the inescapable pop earworm of 2017." },
      // 2018
      { title: "This Is America", artist: "Childish Gambino", year: 2018, videoId: "VYOjWnS4cMY", description: "Symbolism-laden video sparked massive cultural debate about gun violence in America." },
      { title: "God's Plan", artist: "Drake", year: 2018, videoId: "xpVfcZ0ZcFM", description: "Drake gave away nearly $1 million in the video, making it a feel-good viral sensation." },
      // 2019
      { title: "Old Town Road", artist: "Lil Nas X ft. Billy Ray Cyrus", year: 2019, videoId: "w2Ov5jzm3j8", description: "Broke the record for longest-running #1 hit at 19 weeks, fueled by TikTok virality." },
      { title: "Bad Guy", artist: "Billie Eilish", year: 2019, videoId: "DyDfgMOUjCI", description: "Made 17-year-old Billie Eilish a generational icon with its quirky, offbeat style." },
      // 2020
      { title: "Blinding Lights", artist: "The Weeknd", year: 2020, videoId: "4NRXx6U8ABQ", description: "Spawned a massive TikTok dance challenge and became the #1 Billboard Hot 100 song of all time." },
      { title: "WAP", artist: "Cardi B ft. Megan Thee Stallion", year: 2020, videoId: "hsm4poTWjMs", description: "Generated enormous cultural debate while dominating TikTok challenges and streaming charts." },
      // 2021
      { title: "MONTERO (Call Me By Your Name)", artist: "Lil Nas X", year: 2021, videoId: "6swmTBVI83k", description: "Its provocative video ignited a cultural firestorm while debuting at #1 on the Hot 100." },
      { title: "drivers license", artist: "Olivia Rodrigo", year: 2021, videoId: "ZmDBbnmKpqQ", description: "Broke Spotify's single-day streaming record, fueled by Disney+ love triangle speculation." },
      // 2022
      { title: "As It Was", artist: "Harry Styles", year: 2022, videoId: "H5v3kku4y6Q", description: "Spent 15 weeks at #1 and became the global #1 song of 2022." },
      { title: "Unholy", artist: "Sam Smith ft. Kim Petras", year: 2022, videoId: "Uq9gPaIzbe8", description: "Went massively viral on TikTok before release — Kim Petras became the first trans woman to hit #1." },
      // 2023
      { title: "Flowers", artist: "Miley Cyrus", year: 2023, videoId: "G7KNmW9a75Y", description: "Broke the Spotify single-week streaming record as a post-breakup empowerment anthem." },
      { title: "Kill Bill", artist: "SZA", year: 2023, videoId: "MSRcC626prw", description: "Dominated TikTok with its murderous revenge fantasy hook, propelling SZA to superstardom." },
      // 2024
      { title: "Espresso", artist: "Sabrina Carpenter", year: 2024, videoId: "eVli-tstM5E", description: "The inescapable song of summer 2024, catapulting Sabrina Carpenter to global pop stardom via TikTok." },
      { title: "Not Like Us", artist: "Kendrick Lamar", year: 2024, videoId: "H58vbez_m4E", description: "The knockout blow in the Kendrick vs. Drake beef dominated discourse and charts throughout 2024." },
      // 2025
      { title: "Die With a Smile", artist: "Lady Gaga & Bruno Mars", year: 2025, videoId: "kPa7bsKwL-c", description: "Topped YouTube's 2025 year-end list and hit 1 billion views in just 256 days." },
      { title: "APT.", artist: "ROSÉ & Bruno Mars", year: 2025, videoId: "ekr2nIex040", description: "Became the fastest K-pop video to reach 1 billion views, unseating Gangnam Style." },
    ];

    const funnyVideos = [
      // 2016
      { title: "Damn, Daniel", artist: "TheEllenShow", year: 2016, videoId: "_LUX70mXcEE", description: "A teen's repeated compliment of his friend's white Vans became an endlessly quotable catchphrase." },
      { title: "Chewbacca Mom", artist: "Candace Payne", year: 2016, videoId: "y3yRv5Jg5TI", description: "A mom's uncontrollable laughter in a Chewbacca mask became the most-watched Facebook Live ever." },
      { title: "We Are Number One", artist: "LazyTown / Stefán Karl", year: 2016, videoId: "PfYnvDL0Qcw", description: "Spawned thousands of remixes and became a beloved tribute meme for actor Stefán Karl Stefánsson." },
      // 2017
      { title: "Cash Me Outside How Bow Dah", artist: "Dr. Phil Show", year: 2017, videoId: "mNe8bDJda0A", description: "A defiant teen's catchphrase on Dr. Phil became one of the most quoted memes of 2017." },
      { title: "It Is Wednesday My Dudes", artist: "Jimmy Here", year: 2017, videoId: "du-TY1GUFGk", description: "A screaming frog paired with a weekly declaration became a beloved recurring internet ritual." },
      // 2018
      { title: "Walmart Yodeling Kid", artist: "Mason Ramsey", year: 2018, videoId: "bOZT-UpRA2Y", description: "A kid yodeling Hank Williams in Walmart charmed the internet and led to a Coachella performance." },
      { title: "Baby Shark Dance", artist: "Pinkfong", year: 2018, videoId: "XqZsoesa55w", description: "The insanely catchy children's song eventually became the most-viewed YouTube video of all time." },
      // 2019
      { title: "Area 51 Naruto Runner", artist: "KTNV News", year: 2019, videoId: "Dhfx0bR7Zx4", description: "A man Naruto-running behind a live news reporter at Area 51 became the defining meme of the 2019 raid." },
      // 2020
      { title: "Coffin Dance (Astronomia Meme)", artist: "Various compilations", year: 2020, videoId: "j9V78UbdzWI", description: "Ghanaian pallbearers dancing became the defining dark humor meme of pandemic life." },
      { title: "Dreams — Cranberry Skateboard", artist: "Nathan Apodaca (Doggface208)", year: 2020, videoId: "lcWA2wEFkeY", description: "A man vibing on a skateboard with cranberry juice and Fleetwood Mac became a symbol of chill positivity." },
      // 2021
      { title: "The Wellerman (Sea Shanty)", artist: "Nathan Evans", year: 2021, videoId: "qP-7GNoDJ5c", description: "A Scottish postal worker's shanty ignited a massive trend of harmonized duets across social media." },
      { title: "Berries and Cream", artist: "Starburst ad (resurfaced)", year: 2021, videoId: "wYX_zhlTDr8", description: "A bizarre old Starburst commercial was rediscovered and became an inescapable TikTok trend." },
      // 2022
      { title: "It's Corn!", artist: "Gregory Brothers / Recess Therapy", year: 2022, videoId: "1VbZE6YhjKk", description: "A little boy's pure enthusiasm about corn was auto-tuned into a song everyone was singing for months." },
      { title: "Jiggle Jiggle", artist: "Duke & Jones / Louis Theroux", year: 2022, videoId: "_G1cVDy0fTg", description: "A Louis Theroux freestyle rap was remixed into one of TikTok's biggest dance trends." },
      // 2023
      { title: "I'm Just Ken", artist: "Ryan Gosling / Barbie Movie", year: 2023, videoId: "ru1LC9lW20Q", description: "Ryan Gosling's earnest musical number from the Barbie movie became a massive lip-sync meme." },
      { title: "Grimace Shake Trend", artist: "Various creators", year: 2023, videoId: "0_6o90C5jcE", description: "People drank McDonald's purple Grimace Shake then cut to fake horror-movie aftermath scenes." },
      // 2024
      { title: "Hawk Tuah Girl", artist: "Tim & Dee TV / Hailey Welch", year: 2024, videoId: "C7tydu_erZo", description: "A woman's hilariously bold street interview answer became the most quoted catchphrase of summer 2024." },
    ];

    // ============ STATE ============
    let currentCategory = 'music';
    const years = [2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025];

    // ============ INIT ============
    function init() {
      buildTimeline();
      renderVideos();
      setupScrollObserver();
      setupKeyboard();
    }

    // ============ TIMELINE ============
    function buildTimeline() {
      const timeline = document.getElementById('timeline');
      timeline.innerHTML = years.map(y =>
        `<button class="year-btn ${currentCategory === 'music' ? 'music-mode' : 'funny-mode'}" data-year="${y}" onclick="scrollToYear(${y})">${y}</button>`
      ).join('');
    }

    function scrollToYear(year) {
      const el = document.getElementById(`year-${year}`);
      if (el) el.scrollIntoView({ behavior: 'smooth' });
    }

    function updateActiveYear(year) {
      document.querySelectorAll('.year-btn').forEach(btn => {
        const isActive = parseInt(btn.dataset.year) === year;
        btn.classList.toggle('active', isActive);
        btn.classList.toggle('music-mode', currentCategory === 'music');
        btn.classList.toggle('funny-mode', currentCategory === 'funny');
      });
    }

    // ============ CATEGORY TOGGLE ============
    function setCategory(cat) {
      currentCategory = cat;
      document.querySelectorAll('.category-btn').forEach(btn => {
        btn.classList.remove('active-music', 'active-funny');
        if (btn.dataset.category === cat) {
          btn.classList.add(cat === 'music' ? 'active-music' : 'active-funny');
        }
      });

      // Update hero glow
      document.querySelector('.hero').style.setProperty('--accent-glow',
        cat === 'music' ? 'rgba(255, 51, 102, 0.3)' : 'rgba(0, 204, 255, 0.3)'
      );

      renderVideos();
      buildTimeline();

      // Re-observe for scroll
      setTimeout(() => setupScrollObserver(), 100);
    }

    // ============ RENDER ============
    function renderVideos() {
      const main = document.getElementById('main-content');
      const videos = currentCategory === 'music' ? musicVideos : funnyVideos;
      const catClass = currentCategory === 'music' ? 'music' : 'funny';

      const grouped = {};
      years.forEach(y => grouped[y] = []);
      videos.forEach(v => {
        if (grouped[v.year]) grouped[v.year].push(v);
      });

      main.innerHTML = years.map(year => {
        const vids = grouped[year];
        if (vids.length === 0) return '';
        const labelText = currentCategory === 'music' ? 'Viral Music' : 'Viral Memes & Funny';
        return `
          <section class="year-section fade-in" id="year-${year}">
            <div class="year-header">
              <h2 class="${catClass}-accent">${year}</h2>
              <span class="year-label">${labelText}</span>
            </div>
            <div class="video-grid">
              ${vids.map(v => videoCard(v, catClass)).join('')}
            </div>
          </section>
        `;
      }).join('');

      // Trigger fade-in
      requestAnimationFrame(() => {
        document.querySelectorAll('.fade-in').forEach((el, i) => {
          setTimeout(() => el.classList.add('visible'), i * 80);
        });
      });
    }

    function videoCard(v, catClass) {
      const thumb = `https://img.youtube.com/vi/${v.videoId}/hqdefault.jpg`;
      const tagLabel = catClass === 'music' ? 'Music' : 'Meme';
      return `
        <div class="video-card ${catClass}-card" onclick="openLightbox('${v.videoId}', '${escapeAttr(v.title)}', '${escapeAttr(v.artist)}')">
          <div class="thumbnail-wrapper">
            <img src="${thumb}" alt="${escapeAttr(v.title)}" loading="lazy">
            <div class="play-overlay">
              <div class="play-btn">
                <svg viewBox="0 0 24 24"><polygon points="5,3 19,12 5,21"/></svg>
              </div>
            </div>
          </div>
          <div class="card-info">
            <span class="card-tag ${catClass}-tag">${tagLabel}</span>
            <h3>${escapeHtml(v.title)}</h3>
            <p class="artist">${escapeHtml(v.artist)}</p>
            <p class="description">${escapeHtml(v.description)}</p>
          </div>
        </div>
      `;
    }

    function escapeHtml(str) {
      return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
    }

    function escapeAttr(str) {
      return str.replace(/'/g, "\\'").replace(/"/g, '\\"');
    }

    // ============ LIGHTBOX ============
    function openLightbox(videoId, title, artist) {
      const lb = document.getElementById('lightbox');
      const iframe = document.getElementById('lightbox-iframe');
      document.getElementById('lightbox-title').textContent = title;
      document.getElementById('lightbox-artist').textContent = artist;
      iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;
      lb.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox(event) {
      if (event && event.target !== event.currentTarget) return;
      const lb = document.getElementById('lightbox');
      const iframe = document.getElementById('lightbox-iframe');
      iframe.src = '';
      lb.classList.remove('active');
      document.body.style.overflow = '';
    }

    // ============ SCROLL OBSERVER ============
    function setupScrollObserver() {
      const sections = document.querySelectorAll('.year-section');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const year = parseInt(entry.target.id.replace('year-', ''));
            updateActiveYear(year);
          }
        });
      }, { rootMargin: '-30% 0px -60% 0px' });

      sections.forEach(sec => observer.observe(sec));
    }

    // ============ KEYBOARD ============
    function setupKeyboard() {
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeLightbox();
      });
    }

    // ============ GO ============
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
